<div class="home-page">
  <section class="home-hero">
    <div class="hero-bg" style="background-image: url('<%= asset_path('biglogo.png') %>')"></div>
    <div class="hero-inner container">
      </div>
  </section>

  <main id="catalog" class="container mt-5">
    
    <%# Головний заголовок SS26 по центру сторінки %>
    <div class="text-center mb-5">
      <h2 class="section-title" style="font-size: 2.5rem; font-weight: 500; text-transform: uppercase;">SS26</h2>
    </div>

    <%# Адмін-панель для додавання товару (вирівняна праворуч) %>
    <div class="d-flex justify-content-end mb-4">
      <% if user_signed_in? && current_user.admin? %>
        <%= link_to '➕ Додати новий товар', new_product_path, class: 'btn btn-primary' %>
      <% end %>
    </div>

    <%# Сітка товарів %>
    <div class="featured-grid">
      <% @products.each_with_index do |product, idx| %>
        
        <%# !!! Stimulus контролер для hover-ефекту !!! %>
        <article class="product-card" style="--i: <%= idx %>"
          data-controller="card-hover"
          data-card-hover-secondary-image-url-value="<%= product.image_2.url if product.image_2.present? %>"
          data-action="mouseover->card-hover#hoverIn mouseout->card-hover#hoverOut"
        >
          <%= link_to product_path(product), class: 'product-link' do %>
            
            <%# Додаємо Stimulus target для головного зображення %>
            <% if product.image.present? %>
              <div class="product-image" 
                   data-card-hover-target="mainImage"
                   style="background-image: url('<%= product.image.url %>')">
              </div>
            <% else %>
              <div class="product-image bg-light" data-card-hover-target="mainImage"></div>
            <% end %>
            
            <div class="product-meta">
              <h3 class="product-name"><%= product.name %></h3>
              <div class="product-price"><%= number_to_currency(product.price, unit: '€') %></div>
            </div>
          <% end %>
          <% if product.stock.zero? %>
            <div class="sold-out-badge">SOLD OUT</div>
          <% end %>
        </article>
      <% end %>
    </div>
  </main>
</div>